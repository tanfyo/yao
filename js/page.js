function parseQueryString(){var e=window.location.search.substring(1).split("&"),t={attrLength:0},n={};for(var r=0;r<e.length;r++){var i=e[r].split("=");if(i[0]!==undefined&&i[1]!==undefined){var s=decodeURIComponent(i[1]);i[0]==="tags"&&(t.tags=s.split(",")),i[0]==="ev"&&validateEventNameAndEventAttributeKey(s)&&(t.event=s);if(i[0].search("eva")!==-1){var o=i[0].indexOf("[")+1,u=i[0].indexOf("]")-o,a=i[0].substr(o,u);validateEventNameAndEventAttributeKey(a)&&validateEventAttributeValue(s)&&(n[a]=checkAndConvertToBooleanOrNumber(s),t.attrLength+=1)}}}return t.attrLength!==0&&(t.attributes=n),t}function validateEventNameAndEventAttributeKey(e){var t=/^[a-zA-Z0-9-]+$/,n=e.length;return n<=50&&t.test(e)?!0:!1}function validateEventAttributeValue(e){var t=e.length;return t>0&&t<=200?!0:!1}function checkAndConvertToBooleanOrNumber(e){var t=/^[0-9-.]+$/,n=e.toLowerCase();return t.test(e)?e.indexOf(".")===-1?parseInt(e,10):parseFloat(e,10):n==="true"?!0:n==="false"?!1:e}$(document).ready(function(){var e=$("#report-user"),t=$(".report-container");$(window).click(function(n){if(n.target==e[0]||n.target==$(".report-container .close-modal")[0]||n.target==$(".submit-report .cancel-report")[0])e.hide(),t.fadeOut(),$("body").css("overflow","auto"),$("#report-reason").val("").removeAttr("disabled"),$("#action-container").show(),$(".report-body .error").hide(),$("#submitting-message").text("Submitting")}),$(".report a").click(function(n){e.show(),t.fadeIn(),$("body").css("overflow","hidden"),$("#report-reason").focus(),$("#submitting-container").hide()}),$("#submit-report").click(function(){var e=$("#report-reason"),t=e.val(),n=$("#report-tawk-id").val(),r=$("#report-property-id").val(),i=$("#report-submit-loader"),s=$("#submitting-message"),o=$(".report-body .error"),u=$("#submitting-container"),a=$("#action-container");o.hide();if($.trim(t)===""){o.html("Please provide a reason").show(),e.focus();return}if($.trim(n)===""){o.html("Unable to identify the tawk ID").show();return}if($.trim(r)===""){o.html("Unable to identify the property ID").show();return}e.attr("disabled","disabled"),u.show(),a.hide(),i.show(),$.ajax({type:"POST",url:"/report/abuse",data:{propertyId:r,tawkId:n,reason:t},dataType:"json",accept:"application/json",success:function(t){i.hide();if(!t.ok){s.text("Submitting"),u.hide(),a.show(),e.removeAttr("disabled"),o.html("Unable to submit your report. Please try again.").show();return}e.val(""),s.text("Thank you. Your report has been submitted.")},error:function(){i.hide(),s.text("Submitting"),u.hide(),a.show(),e.removeAttr("disabled"),o.html("Unable to submit your report. Please try again.").show()}})})})